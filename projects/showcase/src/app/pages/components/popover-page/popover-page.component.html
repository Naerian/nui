<div class="docs-page">
  <div class="page-header">
    <h1>{{ 'components.popover.title' | translate }}</h1>
    <p class="subtitle">{{ 'components.popover.subtitle' | translate }}</p>
  </div>

  <!-- 1. Popover Básico -->
  <section class="section">
    <app-section-title [title]="'components.popover.basic.title' | translate" anchor="basico"></app-section-title>
    <p class="section-description">{{ 'components.popover.basic.description' | translate }}</p>
    
    <div class="example-preview">
      <nui-button nuiPopover="Información adicional del elemento">
        Ver información
      </nui-button>
    </div>

    <app-code-block [examples]="getSection('basic')?.examples || []"></app-code-block>
  </section>

  <!-- 2. Posiciones -->
  <section class="section">
    <app-section-title [title]="'components.popover.positions.title' | translate" anchor="posiciones"></app-section-title>
    <p class="section-description">{{ 'components.popover.positions.description' | translate }}</p>
    
    <div class="example-preview">
      <nui-button nuiPopover="Popover arriba" popoverPosition="top">
        Top
      </nui-button>
      
      <nui-button nuiPopover="Popover abajo" popoverPosition="bottom">
        Bottom
      </nui-button>
      
      <nui-button nuiPopover="Popover izquierda" popoverPosition="left">
        Left
      </nui-button>
      
      <nui-button nuiPopover="Popover derecha" popoverPosition="right">
        Right
      </nui-button>
    </div>

    <app-code-block [examples]="getSection('positions')?.examples || []"></app-code-block>
  </section>

  <!-- 3. Eventos de Activación -->
  <section class="section">
    <app-section-title [title]="'components.popover.events.title' | translate" anchor="eventos"></app-section-title>
    <p class="section-description">{{ 'components.popover.events.description' | translate }}</p>
    
    <div class="example-preview flex-column">
      <div class="events-row">
        <nui-button nuiPopover="Popover con click (default)" popoverEvent="click">
          Click Event
        </nui-button>
        
        <nui-button nuiPopover="Popover con hover" popoverEvent="hover">
          Hover Event
        </nui-button>
      </div>

      <div class="events-row">
        <input 
          type="text" 
          nuiPopover="Ayuda para este campo" 
          popoverEvent="focus"
          placeholder="Enfoca para ver ayuda"
          class="example-input"
        />
      </div>
    </div>

    <app-code-block [examples]="getSection('events')?.examples || []"></app-code-block>
  </section>

  <!-- 4. Template Personalizado -->
  <section class="section">
    <app-section-title [title]="'components.popover.template.title' | translate" anchor="template"></app-section-title>
    <p class="section-description">{{ 'components.popover.template.description' | translate }}</p>
    
    <div class="example-preview">
      <nui-button [nuiPopover]="popoverTemplate">
        Ver detalles
      </nui-button>

      <ng-template #popoverTemplate let-close="close">
        <div class="nui-custom-popover">
          <h3 class="nui-custom-popover__title">Título del Popover</h3>
          <p class="nui-custom-popover__text">Este es el contenido del popover con un template personalizado.</p>
          <div class="nui-custom-popover__actions">
            <nui-button size="sm" variant="outline" (onClick)="close()">
              Cancelar
            </nui-button>
            <nui-button size="sm" (onClick)="handleAction(); close()">
              Aceptar
            </nui-button>
          </div>
        </div>
      </ng-template>
    </div>

    <app-code-block [examples]="getSection('template')?.examples || []"></app-code-block>
  </section>

  <!-- 5. Componente Dinámico -->
  <section class="section">
    <app-section-title [title]="'components.popover.component.title' | translate" anchor="componente"></app-section-title>
    <p class="section-description">{{ 'components.popover.component.description' | translate }}</p>
    
    <div class="section-note info">
      <i class="ri-information-line"></i>
      <p>Los componentes dinámicos pueden recibir datos a través de <code>popoverData</code> y deben implementar los tokens <code>POPOVER_DATA</code> y <code>POPOVER_CLOSE</code> para acceder a los datos y función de cierre.</p>
    </div>

    <app-code-block [examples]="getSection('component')?.examples || []"></app-code-block>
  </section>

  <!-- 6. Delays -->
  <section class="section">
    <app-section-title [title]="'components.popover.delays.title' | translate" anchor="delays"></app-section-title>
    <p class="section-description">{{ 'components.popover.delays.description' | translate }}</p>
    
    <div class="example-preview">
      <nui-button 
        nuiPopover="Aparece después de 500ms" 
        [popoverShowDelay]="500">
        Show Delay (500ms)
      </nui-button>
      
      <nui-button 
        nuiPopover="Se oculta después de 1s" 
        popoverEvent="hover"
        [popoverHideDelay]="1000">
        Hide Delay (1000ms)
      </nui-button>
      
      <nui-button 
        nuiPopover="Delays combinados" 
        popoverEvent="hover"
        [popoverShowDelay]="300"
        [popoverHideDelay]="500">
        Both Delays
      </nui-button>
    </div>

    <app-code-block [examples]="getSection('delays')?.examples || []"></app-code-block>
  </section>

  <!-- 7. Personalización -->
  <section class="section">
    <app-section-title [title]="'components.popover.customization.title' | translate" anchor="personalizacion"></app-section-title>
    <p class="section-description">{{ 'components.popover.customization.description' | translate }}</p>
    
    <div class="example-preview">
      <nui-button 
        nuiPopover="Popover sin flecha" 
        [popoverShowArrow]="false">
        Sin flecha
      </nui-button>
      
      <nui-button 
        nuiPopover="Popover con ancho personalizado de 400px para mostrar más contenido en una línea" 
        popoverMaxWidth="400px">
        Ancho custom (400px)
      </nui-button>
      
      <nui-button 
        nuiPopover="Popover con estilo custom" 
        popoverClass="custom-popover-class">
        Clase custom
      </nui-button>
      
      <nui-button 
        nuiPopover="Mayor separación del trigger" 
        [popoverOffset]="20">
        Offset 20px
      </nui-button>
    </div>

    <app-code-block [examples]="getSection('customization')?.examples || []"></app-code-block>
  </section>

  <!-- 8. Opciones de Cierre -->
  <section class="section">
    <app-section-title [title]="'components.popover.closeOptions.title' | translate" anchor="opciones-cierre"></app-section-title>
    <p class="section-description">{{ 'components.popover.closeOptions.description' | translate }}</p>
    
    <div class="example-preview flex-column">
      <div class="events-row">
        <nui-button 
          nuiPopover="No se cierra al hacer click fuera. Usa Escape o click en el botón." 
          [popoverCloseOnClickOutside]="false">
          Click Outside OFF
        </nui-button>
        
        <nui-button 
          nuiPopover="No se cierra con la tecla Escape. Haz click fuera para cerrar." 
          [popoverCloseOnEscape]="false">
          Escape OFF
        </nui-button>
      </div>

      <div class="events-row">
        <nui-button 
          nuiPopover="Popover múltiple 1" 
          [popoverAllowMultiple]="true">
          Multiple 1
        </nui-button>
        
        <nui-button 
          nuiPopover="Popover múltiple 2" 
          [popoverAllowMultiple]="true">
          Multiple 2
        </nui-button>
      </div>
    </div>

    <app-code-block [examples]="getSection('closeOptions')?.examples || []"></app-code-block>
  </section>

  <!-- 9. Backdrop -->
  <section class="section">
    <app-section-title [title]="'components.popover.backdrop.title' | translate" anchor="backdrop"></app-section-title>
    <p class="section-description">{{ 'components.popover.backdrop.description' | translate }}</p>
    
    <div class="example-preview">
      <nui-button 
        [nuiPopover]="backdropTemplate" 
        [popoverBackdrop]="true">
        Con Backdrop
      </nui-button>
      
      <nui-button 
        [nuiPopover]="backdropNoCloseTemplate" 
        [popoverBackdrop]="true"
        [backdropClose]="false">
        Backdrop sin cierre
      </nui-button>

      <ng-template #backdropTemplate let-close="close">
        <div class="nui-modal-popover">
          <h3 class="nui-modal-popover__title">Popover Modal</h3>
          <p class="nui-modal-popover__text">Este popover tiene un backdrop oscuro detrás. Haz click fuera para cerrar.</p>
          <nui-button (onClick)="close()">Cerrar</nui-button>
        </div>
      </ng-template>

      <ng-template #backdropNoCloseTemplate let-close="close">
        <div class="nui-modal-popover">
          <h3 class="nui-modal-popover__title">Popover Modal</h3>
          <p class="nui-modal-popover__text">Este popover no se cierra al hacer click en el backdrop. Usa el botón para cerrar.</p>
          <nui-button (onClick)="close()">Cerrar</nui-button>
        </div>
      </ng-template>
    </div>

    <app-code-block [examples]="getSection('backdrop')?.examples || []"></app-code-block>
  </section>

  <!-- 10. Estado Deshabilitado -->
  <section class="section">
    <app-section-title [title]="'components.popover.disabled.title' | translate" anchor="deshabilitado"></app-section-title>
    <p class="section-description">{{ 'components.popover.disabled.description' | translate }}</p>
    
    <div class="example-preview">
      <nui-button 
        nuiPopover="Popover condicional según el estado del botón" 
        [popoverDisabled]="isDisabled()">
        Popover condicional
      </nui-button>
      
      <nui-button variant="outline" (onClick)="toggleDisabled()">
        Toggle (Status: {{ !isDisabled() }})
      </nui-button>
    </div>

    <app-code-block [examples]="getSection('disabled')?.examples || []"></app-code-block>
  </section>
</div>
