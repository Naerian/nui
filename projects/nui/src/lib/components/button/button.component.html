<button
  #btnNative
  class="nui-btn"
  [class.nui-btn--xs]="effectiveSize() === 'xs'"
  [class.nui-btn--sm]="effectiveSize() === 'sm'"
  [class.nui-btn--md]="effectiveSize() === 'md'"
  [class.nui-btn--lg]="effectiveSize() === 'lg'"
  [class.nui-btn--xl]="effectiveSize() === 'xl'"
  [class]="'nui-btn nui-btn--' + effectiveColor()"
  [class.nui-btn--solid]="effectiveVariant() === 'solid'"
  [class.nui-btn--outline]="effectiveVariant() === 'outline'"
  [class.nui-btn--ghost]="effectiveVariant() === 'ghost'"
  [class.nui-btn--icon]="isIconOnly()"
  [class.nui-btn--loading]="loading()"
  [class.nui-btn--disabled]="disabled()"
  [class.nui-btn--full]="width() === 'full'"
  [class.nui-btn--fit]="width() === 'fit'"
  [disabled]="disabled() || loading()"
  [attr.type]="type()"
  [attr.aria-label]="computedAriaLabel()"
  [attr.aria-busy]="loading()"
  [title]="title()"
  (click)="handleClick($event)"
>
  @if (loading() && loadingPosition() === 'start') {
    <span class="nui-btn__spinner nui-btn__spinner--start" aria-hidden="true"></span>
  }

  @if (icon() && iconPosition() === 'start' && !loading()) {
    <i [class]="icon()" class="nui-btn__icon nui-btn__icon--start" aria-hidden="true"></i>
  }

  <span
    class="nui-btn__content"
    [class.nui-btn__content--hidden]="loading() && loadingPosition() === 'center'"
  >
    <ng-content></ng-content>
    @if (label()) {
      <span>{{ label() }}</span>
    }
  </span>

  @if (loading() && loadingPosition() === 'center') {
    <span class="nui-btn__spinner nui-btn__spinner--center" aria-hidden="true"></span>
  }
  @if (icon() && iconPosition() === 'end' && !loading()) {
    <i [class]="icon()" class="nui-btn__icon nui-btn__icon--end" aria-hidden="true"></i>
  }
  @if (loading() && loadingPosition() === 'end') {
    <span class="nui-btn__spinner nui-btn__spinner--end" aria-hidden="true"></span>
  }
</button>
