<div class="nui-avatar-group" [style.--nui-avatar-spacing]="spacingValue()">
  <div
    class="nui-avatar-group__list"
    [class]="listClasses()"
  >
    <!-- Avatares visibles -->
    @for (avatar of visibleAvatars(); track avatar) {
      <nui-avatar
        class="nui-avatar-group__avatar"
        [src]="avatar.src"
        [alt]="avatar.alt"
        [initials]="avatar.initials"
        [icon]="avatar.icon"
        [color]="effectiveColor() || avatar.color"
        [customSize]="effectiveSize() || avatar?.customSize"
        [size]="effectiveSize() || avatar.size"
        [variant]="effectiveVariant() || avatar.variant"
        [bordered]="bordered()"
        [tooltip]="avatar.tooltip || avatar.alt || ''"
      />
    }

    <!-- Indicador de excedente "+N" -->
    @if (hasHidden()) {
      <div
        class="nui-avatar-group__excess"
        [class]="excessClasses()"
        [title]="excessTooltip()"
        [attr.aria-label]="excessTooltip()"
      >
        {{ excessText() }}
      </div>
    }
  </div>
</div>
