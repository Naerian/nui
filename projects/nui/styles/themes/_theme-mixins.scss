@import "../config";

// ==========================================
// CONSTANTES PARA MIXINS DE TEMAS
// ==========================================

// Porcentajes para temas (nombres descriptivos)
$theme-medium: 50%; // Tinte medio para colores estándar
$theme-bright: 65%; // Tinte brillante para focus/hover
$theme-subtle: 90%; // Tinte sutil para fondos claros
$theme-surface: 95%; // Tinte de superficie muy claro
$theme-muted: 75%; // Sombreado medio para tema oscuro
$theme-deep: 88%; // Sombreado profundo para tema oscuro

// Porcentajes para componentes
$component-shade-hover: 10%;
$component-shade-selected-light: 60%;
$component-shade-selected-dark: 70%;
$component-alpha-ghost-hover: 0.1;

// ==========================================
// MIXINS DE GENERACIÓN DE VARIABLES DE TEMAS
// ==========================================

/// Mixin para generar variables de color base
/// @param {Map} $colors - Mapa de colores base (primary, secondary, etc.)
/// @param {Map} $grays - Mapa de grises
/// @param {Boolean} $is-dark - Indica si es tema oscuro
@mixin generate-color-variables($colors, $grays, $is-dark: false) {
  // Colores principales
  @each $name, $color in $colors {
    --color-#{$name}: #{$color};

    // Tints ajustados por tema
    // Los tints para dark usan shade en lugar de tint para mejor contraste
    // Mientras que light usa tint para colores más suaves
    @if $is-dark {
      --color-#{$name}-tint-50: #{tint($color, $theme-medium)};
      --color-#{$name}-tint-65: #{tint($color, $theme-bright)};
      --color-#{$name}-tint-90: #{shade($color, $theme-muted)};
      --color-#{$name}-tint-95: #{shade($color, $theme-deep)};
    } @else {
      --color-#{$name}-tint-50: #{tint($color, $theme-medium)};
      --color-#{$name}-tint-65: #{tint($color, $theme-bright)};
      --color-#{$name}-tint-90: #{tint($color, $theme-subtle)};
      --color-#{$name}-tint-95: #{tint($color, $theme-surface)};
    }

    // Shades comunes
    // Sombras para todos los temas
    --color-#{$name}-shade-10: #{shade($color, 10%)};
    --color-#{$name}-shade-20: #{shade($color, 20%)};
    --color-#{$name}-shade-30: #{shade($color, 30%)};
    --color-#{$name}-shade-40: #{shade($color, 40%)};
    --color-#{$name}-shade-50: #{shade($color, 50%)};
    --color-#{$name}-shade-60: #{shade($color, 60%)};
    --color-#{$name}-shade-70: #{shade($color, 70%)};
    --color-#{$name}-shade-80: #{shade($color, 80%)};

    // Complementarios (solo para primary y secondary)
    // El complementario es el color opuesto en el círculo cromático (hue + 180deg)
    $complementary: adjust-hue($color, 180deg);
    --color-#{$name}-complementary: #{$complementary};
    --color-#{$name}-complementary-tint-50: #{tint(
        $complementary,
        $theme-medium
      )};
    --color-#{$name}-complementary-tint-65: #{tint(
        $complementary,
        $theme-bright
      )};
    --color-#{$name}-complementary-tint-90: #{tint(
        $complementary,
        $theme-subtle
      )};
    --color-#{$name}-complementary-tint-95: #{tint(
        $complementary,
        $theme-surface
      )};
    --color-#{$name}-complementary-shade-10: #{shade($complementary, 10%)};
    --color-#{$name}-complementary-shade-20: #{shade($complementary, 20%)};
    --color-#{$name}-complementary-shade-30: #{shade($complementary, 30%)};
    --color-#{$name}-complementary-shade-40: #{shade($complementary, 40%)};
    --color-#{$name}-complementary-shade-50: #{shade($complementary, 50%)};
    --color-#{$name}-complementary-shade-60: #{shade($complementary, 60%)};
    --color-#{$name}-complementary-shade-70: #{shade($complementary, 70%)};
    --color-#{$name}-complementary-shade-80: #{shade($complementary, 80%)};
  }

  // Escala de grises
  @each $shade, $color in $grays {
    --color-gray-#{$shade}: #{$color};
  }

  // RGB components para primary y secondary
  $primary: map-get($colors, "primary");
  $secondary: map-get($colors, "secondary");
  $warning: map-get($colors, "warning");
  $success: map-get($colors, "success");
  $info: map-get($colors, "info");
  $danger: map-get($colors, "danger");
  $accent: map-get($colors, "accent");
  --color-primary-rgb: #{red($primary)}, #{green($primary)}, #{blue($primary)};
  --color-secondary-rgb:
    #{red($secondary)}, #{green($secondary)}, #{blue($secondary)};
  --color-warning-rgb: #{red($warning)}, #{green($warning)}, #{blue($warning)};
  --color-success-rgb: #{red($success)}, #{green($success)}, #{blue($success)};
  --color-info-rgb: #{red($info)}, #{green($info)}, #{blue($info)};
  --color-danger-rgb: #{red($danger)}, #{green($danger)}, #{blue($danger)};
  --color-accent-rgb: #{red($accent)}, #{green($accent)}, #{blue($accent)};
}

// ==========================================
// BUTTON THEME MIXINS
// ==========================================

/// Mixin para generar variables de Button
/// @param {Map} $colors - Mapa de colores base (primary, secondary, etc.)
/// @param {Boolean} $is-dark - Indica si es tema oscuro
@mixin generate-button-variables($colors, $is-dark: false) {
  $text-on-color: if($is-dark, #{$color-gray-50-dark}, #{$color-white});

  @each $name, $color in $colors {
    $hover-color: shade($color, $component-shade-hover);
    $active-color: shade($color, $component-shade-hover * 2);
    $ghost-bg: if(
      $is-dark,
      shade($color, $theme-deep),
      tint($color, $theme-subtle)
    );
    $ghost-active: if(
      $is-dark,
      shade($color, $theme-deep + 5%),
      tint($color, $theme-subtle + 5%)
    );

    // Variante "solid"
    --button-#{$name}-solid-bg: #{$color};
    --button-#{$name}-solid-text: #{$text-on-color};
    --button-#{$name}-solid-border: #{$color};
    --button-#{$name}-solid-hover-bg: #{$hover-color};
    --button-#{$name}-solid-hover-text: #{$text-on-color};
    --button-#{$name}-solid-hover-border: #{$hover-color};
    --button-#{$name}-solid-active-bg: #{$active-color};
    --button-#{$name}-solid-active-border: #{$active-color};

    // Variante "outline"
    --button-#{$name}-outline-bg: transparent;
    --button-#{$name}-outline-text: #{$color};
    --button-#{$name}-outline-border: #{$color};
    --button-#{$name}-outline-hover-bg: #{with-alpha($color, 0.1)};
    --button-#{$name}-outline-hover-text: #{$hover-color};
    --button-#{$name}-outline-hover-border: #{$hover-color};
    --button-#{$name}-outline-active-bg: #{with-alpha($color, 0.2)};
    --button-#{$name}-outline-active-border: #{$active-color};

    // Variante "ghost"
    --button-#{$name}-ghost-bg: transparent;
    --button-#{$name}-ghost-text: #{$color};
    --button-#{$name}-ghost-border: transparent;
    --button-#{$name}-ghost-hover-bg: #{with-alpha($color, 0.1)};
    --button-#{$name}-ghost-hover-text: #{$hover-color};
    --button-#{$name}-ghost-hover-border: transparent;
    --button-#{$name}-ghost-active-bg: #{$ghost-active};
    --button-#{$name}-ghost-active-border: transparent;

    --button-#{$name}-focus-color: #{tint($color, $theme-bright)};
  }
}

// ==========================================
// CHIP THEME MIXINS
// ==========================================

/// Mixin para generar variables de Chip
/// @param {Map} $colors - Mapa de colores base (primary, secondary, etc.)
/// @param {Boolean} $is-dark - Indica si es tema oscuro
@mixin generate-chip-variables($colors, $is-dark: false) {
  $text-on-color: if($is-dark, #{$color-gray-50-dark}, #{$color-white});

  --chip-shadow: #{$box-shadow-s};
  --chip-shadow-hover: #{$box-shadow-sm};
  --chip-shadow-active: #{$box-shadow-md};

  @each $name, $color in $colors {
    $hover-color: shade($color, $component-shade-hover);
    $active-color: shade($color, $component-shade-hover * 2);
    $selected-bg: if(
      $is-dark,
      shade($color, $component-shade-selected-dark),
      shade($color, $component-shade-selected-light)
    );
    $ghost-bg: if(
      $is-dark,
      shade($color, $theme-deep),
      tint($color, $theme-subtle)
    );
    $ghost-selected: if(
      $is-dark,
      shade($color, $theme-bright),
      tint($color, $theme-medium)
    );

    // Variante "solid"
    --chip-#{$name}-solid-bg: #{$color};
    --chip-#{$name}-solid-text: #{$text-on-color};
    --chip-#{$name}-solid-border: #{$color};
    --chip-#{$name}-solid-hover-bg: #{$hover-color};
    --chip-#{$name}-solid-hover-text: #{$text-on-color};
    --chip-#{$name}-solid-hover-border: #{$hover-color};
    --chip-#{$name}-solid-selected-bg: #{$selected-bg};
    --chip-#{$name}-solid-selected-text: #{$text-on-color};
    --chip-#{$name}-solid-selected-border: #{$selected-bg};

    // Variante "outline"
    --chip-#{$name}-outline-bg: transparent;
    --chip-#{$name}-outline-text: #{$color};
    --chip-#{$name}-outline-border: #{$color};
    --chip-#{$name}-outline-hover-bg: #{with-alpha($color, 0.1)};
    --chip-#{$name}-outline-hover-text: #{$hover-color};
    --chip-#{$name}-outline-hover-border: #{$hover-color};
    --chip-#{$name}-outline-selected-bg: #{$selected-bg};
    --chip-#{$name}-outline-selected-text: #{$text-on-color};
    --chip-#{$name}-outline-selected-border: #{$color};

    // Variante "ghost"
    --chip-#{$name}-ghost-bg: #{$ghost-bg};
    --chip-#{$name}-ghost-text: #{$color};
    --chip-#{$name}-ghost-border: transparent;
    --chip-#{$name}-ghost-hover-bg: #{with-alpha($color, 0.2)};
    --chip-#{$name}-ghost-hover-text: #{$hover-color};
    --chip-#{$name}-ghost-hover-border: transparent;
    --chip-#{$name}-ghost-selected-bg: #{$ghost-selected};
    --chip-#{$name}-ghost-selected-text: #{$text-on-color};
    --chip-#{$name}-ghost-selected-border: transparent;

    // Focus
    --chip-#{$name}-focus-color: #{tint($color, $theme-bright)};
  }
}

// ==========================================
// MODAL DIALOG THEME MIXINS
// ==========================================

// Mixin para generar las variables de color de Modal Dialog
/// @param {Map} $colors - Mapa de colores base (primary, secondary, etc.)
/// @param {Boolean} $is-dark - Indica si es tema oscuro
@mixin generate-modal-variables($colors, $is-dark: false) {
  @each $name, $color in $colors {
    --modal-#{$name}-icon-color: #{$color};
    --modal-#{$name}-text-color: #{$color};
    --modal-#{$name}-border-color: #{$color};
  }

  @if $is-dark {
    --modal-bg: #{$color-gray-50-dark};
    --modal-text: #{$color-text-dark};
    --modal-text-secondary: #{$color-text-secondary-dark};
    --modal-border-color: #{$color-gray-200-dark};
    --modal-countdown-bg: #{shade($color-warning-dark, 75%)};
    --modal-countdown-color: #{$color-warning};
   --modal-verification-container-bg: #{$color-gray-200-dark};
  } @else {
    --modal-bg: #{$color-white};
    --modal-text: #{$color-text};
    --modal-text-secondary: #{$color-text-secondary};
    --modal-border-color: #{$color-gray-200};
    --modal-countdown-bg: #{tint($color-warning, 90%)};
    --modal-countdown-color: #{$color-warning};
    --modal-verification-container-bg: #{$color-gray-100};
  }
}

// ==========================================
// TOAST THEME MIXINS
// ==========================================

/// Mixin para generar variables de Toast
/// @param {Map} $colors - Mapa de colores base (primary, secondary, etc.)
/// @param {Boolean} $is-dark - Indica si es tema oscuro
@mixin generate-toast-variables($colors, $is-dark: false) {
  // Colores base del toast según tema con mayor transparencia
  $toast-bg-base: if(
    $is-dark,
    rgba(30, 30, 30, 0.92),
    rgba(255, 255, 255, 0.92)
  );
  $toast-text-base: if($is-dark, $color-text-dark, $color-text);
  $toast-border-base: if(
    $is-dark,
    rgba(255, 255, 255, 0.08),
    rgba(0, 0, 0, 0.06)
  );

  // Variables generales
  --toast-bg: #{$toast-bg-base};
  --toast-color: #{$toast-text-base};
  --toast-border-color: #{$toast-border-base};

  // SOMBRAS CORREGIDAS según tema
  @if $is-dark {
    --toast-shadow:
      0 4px 16px rgba(0, 0, 0, 0.6), 0 8px 32px rgba(0, 0, 0, 0.4),
      0 0 0 1px rgba(255, 255, 255, 0.05);

    --toast-shadow-hover:
      0 6px 24px rgba(0, 0, 0, 0.7), 0 12px 48px rgba(0, 0, 0, 0.5),
      0 0 0 1px rgba(255, 255, 255, 0.08);
  } @else {
    --toast-shadow:
      0 2px 8px rgba(0, 0, 0, 0.08), 0 4px 16px rgba(0, 0, 0, 0.06),
      0 0 0 1px rgba(0, 0, 0, 0.04);

    --toast-shadow-hover:
      0 4px 16px rgba(0, 0, 0, 0.12), 0 8px 32px rgba(0, 0, 0, 0.08),
      0 0 0 1px rgba(0, 0, 0, 0.06);
  }

  // Variables por cada color
  @each $name, $color in $colors {
    // Backgrounds más sutiles y elegantes
    $bg-color: if($is-dark, shade($color, 85%), tint($color, 96%));

    $bg-color-hover: if($is-dark, shade($color, 80%), tint($color, 94%));

    // Bordes sutiles
    $border-color: if($is-dark, shade($color, 70%), tint($color, 80%));

    // Textos con buen contraste
    $text-color: if($is-dark, tint($color, 75%), shade($color, 25%));
    $title-color: if($is-dark, tint($color, 65%), shade($color, 30%));

    // Color del icono más vibrante
    $icon-color: if($is-dark, tint($color, 40%), $color);

    // Progress bar
    $progress-color: if($is-dark, tint($color, 50%), $color);

    // Background y border
    --toast-#{$name}-bg: #{$bg-color};
    --toast-#{$name}-bg-hover: #{$bg-color-hover};
    --toast-#{$name}-border: #{$border-color};

    // Textos
    --toast-#{$name}-color: #{$text-color};
    --toast-#{$name}-title-color: #{$title-color};

    // Icono con fondo
    --toast-#{$name}-icon-color: #{$icon-color};
    --toast-#{$name}-icon-bg: #{if(
        $is-dark,
        rgba(red($color), green($color), blue($color), 0.2),
        rgba(red($color), green($color), blue($color), 0.1)
      )};

    // Barra de progreso
    --toast-#{$name}-progress-bg: #{$progress-color};

    // Botón de cerrar / expandir
    --toast-#{$name}-close-color: #{$color};
    --toast-#{$name}-close-hover: #{$color};
  }
}

// ==========================================
// SWITCH THEME MIXINS
// ==========================================

/// Mixin para generar variables de Switch
/// @param {Map} $colors - Mapa de colores base (primary, secondary, etc.)
/// @param {Boolean} $is-dark - Indica si es tema oscuro
@mixin generate-switch-variables($colors, $is-dark: false) {
  $text-on-color: if($is-dark, #{$color-gray-50-dark}, #{$color-white});

  @each $name, $color in $colors {
    $hover-color: shade($color, $component-shade-hover);
    $ghost-bg: if(
      $is-dark,
      shade($color, $theme-deep),
      tint($color, $theme-subtle)
    );

    --switch-#{$name}-color: #{$color};
    --switch-#{$name}-color-hover: #{$hover-color};

    // Variante "solid"
    --switch-#{$name}-button-solid-bg: #{$color};
    --switch-#{$name}-button-solid-text: #{$text-on-color};
    --switch-#{$name}-button-solid-border: #{$color};
    --switch-#{$name}-button-solid-hover-bg: #{$hover-color};
    --switch-#{$name}-button-solid-inactive-bg: #{with-alpha($color, 0.2)};
    --switch-#{$name}-button-solid-inactive-text: #{$color};
    --switch-#{$name}-button-solid-inactive-border: #{with-alpha($color, 0.2)};
    --switch-#{$name}-button-solid-inactive-hover-bg: #{with-alpha(
        $color,
        0.3
      )};

    // Variante "outline"
    --switch-#{$name}-button-outline-bg: #{with-alpha($color, 0.1)};
    --switch-#{$name}-button-outline-text: #{$color};
    --switch-#{$name}-button-outline-border: #{$color};
    --switch-#{$name}-button-outline-hover-bg: #{with-alpha($color, 0.2)};
    --switch-#{$name}-button-outline-hover-text: #{$hover-color};
    --switch-#{$name}-button-outline-inactive-bg: transparent;
    --switch-#{$name}-button-outline-inactive-text: #{$color};
    --switch-#{$name}-button-outline-inactive-border: #{$color};
    --switch-#{$name}-button-outline-inactive-hover-bg: #{$ghost-bg};

    // Variante "ghost"
    --switch-#{$name}-button-ghost-bg: #{with-alpha($color, 0.1)};
    --switch-#{$name}-button-ghost-text: #{$color};
    --switch-#{$name}-button-ghost-border: transparent;
    --switch-#{$name}-button-ghost-hover-bg: #{with-alpha($color, 0.2)};
    --switch-#{$name}-button-ghost-hover-text: #{$hover-color};
    --switch-#{$name}-button-ghost-inactive-bg: transparent;
    --switch-#{$name}-button-ghost-inactive-text: #{$color};
    --switch-#{$name}-button-ghost-inactive-border: transparent;
    --switch-#{$name}-button-ghost-inactive-hover-bg: #{$ghost-bg};
  }
}

// ==========================================
// FAB BUTTON THEME MIXINS
// ==========================================

/// Mixin para generar variables de Fab Button
/// @param {Map} $colors - Mapa de colores base (primary, secondary, etc.)
/// @param {Boolean} $is-dark - Indica si es tema oscuro
@mixin generate-fab-button-variables($colors, $is-dark: false) {
  $text-on-color: if($is-dark, #{$color-gray-50-dark}, #{$color-white});

  @each $name, $color in $colors {
    $hover-color: shade($color, $component-shade-hover);
    $active-color: shade($color, $component-shade-hover * 2);
    $ghost-bg: if(
      $is-dark,
      shade($color, $theme-deep),
      tint($color, $theme-subtle)
    );
    $ghost-active: if(
      $is-dark,
      shade($color, $theme-deep + 5%),
      tint($color, $theme-subtle + 5%)
    );

    // Variante "solid"
    --fab-button-#{$name}-solid-bg: #{$color};
    --fab-button-#{$name}-solid-text: #{$text-on-color};
    --fab-button-#{$name}-solid-border: #{$color};
    --fab-button-#{$name}-solid-hover-bg: #{$hover-color};
    --fab-button-#{$name}-solid-hover-text: #{$text-on-color};
    --fab-button-#{$name}-solid-hover-border: #{$hover-color};
    --fab-button-#{$name}-solid-active-bg: #{$active-color};
    --fab-button-#{$name}-solid-active-border: #{$active-color};

    // Variante "outline"
    --fab-button-#{$name}-outline-bg: transparent;
    --fab-button-#{$name}-outline-text: #{$color};
    --fab-button-#{$name}-outline-border: #{$color};
    --fab-button-#{$name}-outline-hover-bg: #{with-alpha($color, 0.1)};
    --fab-button-#{$name}-outline-hover-text: #{$hover-color};
    --fab-button-#{$name}-outline-hover-border: #{$hover-color};
    --fab-button-#{$name}-outline-active-bg: #{$active-color};
    --fab-button-#{$name}-outline-active-border: #{$active-color};

    // Variante "ghost"
    --fab-button-#{$name}-ghost-bg: #{with-alpha($color, 0.1)};
    --fab-button-#{$name}-ghost-text: #{$color};
    --fab-button-#{$name}-ghost-border: transparent;
    --fab-button-#{$name}-ghost-hover-bg: #{with-alpha($color, 0.2)};
    --fab-button-#{$name}-ghost-hover-text: #{$hover-color};
    --fab-button-#{$name}-ghost-hover-border: transparent;
    --fab-button-#{$name}-ghost-active-bg: #{$ghost-active};
    --fab-button-#{$name}-ghost-active-border: transparent;

    --fab-button-#{$name}-focus-color: #{tint($color, $theme-bright)};
  }

  // Label colors
  $label-bg: if($is-dark, #{$color-gray-100-dark}, #{$color-white});
  $label-border: if($is-dark, #{$color-gray-100-dark}, #{$color-gray-200});
  $label-text: if($is-dark, #{$color-text-dark}, #{$color-text});

  --fab-button-label-bg: #{$label-bg};
  --fab-button-label-text: #{$label-text};
  --fab-button-label-border: #{$label-border};
  --fab-button-label-shadow: #{$box-shadow-xs};
}

// ==========================================
// BUTTON GROUP THEME MIXINS
// ==========================================

/// Mixin para generar variables de Button Group
/// @param {Map} $colors - Mapa de colores base (primary, secondary, etc.)
/// @param {Boolean} $is-dark - Indica si es tema oscuro
@mixin generate-button-group-variables($colors, $is-dark: false) {
  $text-on-color: if($is-dark, #{$color-gray-50-dark}, #{$color-white});

  @each $name, $color in $colors {
    $hover-color: shade($color, $component-shade-hover);
    $hover-bg: #{with-alpha($color, 0.05)};
    $box-border: #{if($is-dark, $color-gray-100-dark, $color-gray-200)};
    $inactive-border: if($is-dark, $color-gray-100-dark, $color-gray-200);

    // Variante "solid"
    --button-group-#{$name}-solid-bg: #{$color};
    --button-group-#{$name}-solid-text: #{$text-on-color};
    --button-group-#{$name}-solid-border: #{$color};
    --button-group-#{$name}-solid-hover-bg: #{$hover-color};
    --button-group-#{$name}-solid-inactive-text: #{$color};
    --button-group-#{$name}-solid-inactive-bg: #{if(
        $is-dark,
        $color-gray-50-dark,
        $color-white
      )};
    --button-group-#{$name}-solid-inactive-border: #{$inactive-border};
    --button-group-#{$name}-solid-inactive-hover-bg: #{$hover-bg};
    --button-group-#{$name}-solid-box-border: #{$box-border};

    // Variante "outline"
    --button-group-#{$name}-outline-bg: #{with-alpha($color, 0.1)};
    --button-group-#{$name}-outline-text: #{$color};
    --button-group-#{$name}-outline-border: #{$color};
    --button-group-#{$name}-outline-hover-bg: #{with-alpha($color, 0.2)};
    --button-group-#{$name}-outline-hover-text: #{$hover-color};
    --button-group-#{$name}-outline-inactive-text: #{$color};
    --button-group-#{$name}-outline-inactive-bg: transparent;
    --button-group-#{$name}-outline-inactive-border: #{$inactive-border};
    --button-group-#{$name}-outline-inactive-hover-bg: #{$hover-bg};
    --button-group-#{$name}-outline-box-border: #{$box-border};

    // Variante "ghost"
    --button-group-#{$name}-ghost-bg: #{with-alpha($color, 0.1)};
    --button-group-#{$name}-ghost-text: #{$color};
    --button-group-#{$name}-ghost-border: transparent;
    --button-group-#{$name}-ghost-hover-bg: #{with-alpha($color, 0.2)};
    --button-group-#{$name}-ghost-hover-text: #{$hover-color};
    --button-group-#{$name}-ghost-inactive-text: #{$color};
    --button-group-#{$name}-ghost-inactive-bg: transparent;
    --button-group-#{$name}-ghost-inactive-border: transparent;
    --button-group-#{$name}-ghost-inactive-hover-bg: #{$hover-bg};
    --button-group-#{$name}-ghost-box-border: #{$box-border};
  }
}

// ==========================================
// PROGRESS BAR THEME MIXINS
// ==========================================

/// Mixin para generar variables de Switch
/// @param {Map} $colors - Mapa de colores base (primary, secondary, etc.)
/// @param {Boolean} $is-dark - Indica si es tema oscuro
@mixin generate-progress-bar-variables($colors, $is-dark: false) {
  $text-on-color: if($is-dark, #{$color-gray-50-dark}, #{$color-white});

  @each $name, $color in $colors {
    // Colores de relleno (fill)
    --progress-bar-#{$name}-fill-bg: #{$color};
    --progress-bar-#{$name}-fill-hover-bg: #{shade(
        $color,
        $component-shade-hover
      )};

    // Colores de track (fondo/borde)
    --progress-bar-#{$name}-track-bg: #{if(
        $is-dark,
        shade($color, $theme-deep),
        tint($color, $theme-subtle)
      )};
    --progress-bar-#{$name}-track-border: #{if(
        $is-dark,
        shade($color, $theme-muted),
        tint($color, $theme-medium)
      )};

    // Colores de texto
    --progress-bar-#{$name}-text: #{$text-on-color};
    --progress-bar-#{$name}-value-text: #{$color};
    --progress-bar-#{$name}-label-text: #{if(
        $is-dark,
        $color-gray-200,
        $color-gray-700
      )};
  }
}

// ==========================================
// PAGINATOR THEME MIXINS
// ==========================================

/// Mixin para generar variables de Paginator
/// @param {Map} $colors - Mapa de colores base (primary, secondary, etc.)
/// @param {Boolean} $is-dark - Indica si es tema oscuro
@mixin generate-paginator-variables($colors, $is-dark: false) {
  $text-on-color: if($is-dark, #{$color-gray-50-dark}, #{$color-white});

  @each $name, $color in $colors {
    $hover-color: shade($color, $component-shade-hover);
    $hover-bg: #{with-alpha($color, 0.05)};
    $active-color: shade($color, $component-shade-hover * 2);
    $ghost-bg: if(
      $is-dark,
      shade($color, $theme-deep),
      tint($color, $theme-subtle)
    );
    $ghost-active: if(
      $is-dark,
      shade($color, $theme-deep + 5%),
      tint($color, $theme-subtle + 5%)
    );
    $inactive-border: if($is-dark, $color-gray-100-dark, $color-gray-200);

    // Variante "solid"
    --paginator-#{$name}-solid-bg: #{$color};
    --paginator-#{$name}-solid-text: #{$text-on-color};
    --paginator-#{$name}-solid-border: #{$color};
    --paginator-#{$name}-solid-hover-bg: #{$hover-color};
    --paginator-#{$name}-solid-active-bg: #{$active-color};
    --paginator-#{$name}-solid-inactive-text: #{$color};
    --paginator-#{$name}-solid-inactive-bg: #{if(
        $is-dark,
        $color-gray-50-dark,
        $color-white
      )};
    --paginator-#{$name}-solid-inactive-border: #{$inactive-border};
    --paginator-#{$name}-solid-inactive-hover-bg: #{$hover-bg};

    // Variante "outline"
    --paginator-#{$name}-outline-bg: transparent;
    --paginator-#{$name}-outline-text: #{$color};
    --paginator-#{$name}-outline-border: #{$color};
    --paginator-#{$name}-outline-hover-bg: #{with-alpha($color, 0.1)};
    --paginator-#{$name}-outline-hover-text: #{$hover-color};
    --paginator-#{$name}-outline-active-bg: #{$ghost-active};
    --paginator-#{$name}-outline-inactive-text: #{$color};
    --paginator-#{$name}-outline-inactive-bg: transparent;
    --paginator-#{$name}-outline-inactive-border: #{$inactive-border};
    --paginator-#{$name}-outline-inactive-hover-bg: #{$hover-bg};

    // Variante "ghost"
    --paginator-#{$name}-ghost-bg: #{$ghost-bg};
    --paginator-#{$name}-ghost-text: #{$color};
    --paginator-#{$name}-ghost-border: transparent;
    --paginator-#{$name}-ghost-hover-bg: #{with-alpha($color, 0.1)};
    --paginator-#{$name}-ghost-hover-text: #{$hover-color};
    --paginator-#{$name}-ghost-active-bg: #{$ghost-active};
    --paginator-#{$name}-ghost-inactive-text: #{$color};
    --paginator-#{$name}-ghost-inactive-bg: transparent;
    --paginator-#{$name}-ghost-inactive-border: transparent;
    --paginator-#{$name}-ghost-inactive-hover-bg: #{$hover-bg};
  }
}

/// Mixin para generar variables de SlidePanel
/// @param {Boolean} $is-dark - Indica si es tema oscuro
@mixin generate-slidepanel-variables($is-dark: false) {
  --slidepanel-bg: var(--surface-primary);
  --slidepanel-shadow: var(--box-shadow-sm);
  --slidepanel-outline-focus: 2px solid var(--primary-color);
  --slidepanel-text-color: var(--text-primary);

  --slidepanel-header-border: 1px solid var(--border-primary);
  --slidepanel-header-bg: var(--surface-secondary);

  --slidepanel-content-bg: var(--surface-primary);

  --slidepanel-footer-bg: var(--surface-secondary);
  --slidepanel-footer-border: 1px solid var(--border-primary);
}

// ==========================================
// TABS THEME MIXINS
// ==========================================

/// Mixin para generar variables de Tabs
/// @param {Map} $colors - Mapa de colores base (primary, secondary, etc.)
/// @param {Boolean} $is-dark - Indica si es tema oscuro
@mixin generate-tab-variables($colors, $is-dark: false) {
  $text-on-color: if($is-dark, #{$color-gray-50-dark}, #{$color-white});

  @each $name, $color in $colors {
    $hover-color: shade($color, $component-shade-hover);
    $hover-bg: #{with-alpha($color, 0.05)};
    $inactive-border: if($is-dark, $color-gray-100-dark, $color-gray-200);

    // Botones de scroll
    --tabs-#{$name}-scroll-btn-bg: #{with-alpha($color, 0.05)};
    --tabs-#{$name}-scroll-btn-color: #{$color};
    --tabs-#{$name}-scroll-btn-border: #{with-alpha($color, 0.1)};
    --tabs-#{$name}-scroll-btn-hover-bg: #{with-alpha($color, 0.1)};
    --tabs-#{$name}-scroll-btn-hover-border: #{with-alpha($color, 0.2)};

    // Variante "underline"
    --tabs-#{$name}-underline-inactive-border: #{$inactive-border};
    --tabs-#{$name}-underline-inactive-hover-border: #{with-alpha($color, 0.2)};
    --tabs-#{$name}-underline-active-border: #{$color};
    --tabs-#{$name}-underline-active-hover-border: #{$hover-color};
    --tabs-#{$name}-underline-active-hover-text: #{$hover-color};

    // Variante "enclosed"
    --tabs-#{$name}-enclosed-active-bg: #{with-alpha($color, 0.1)};
    --tabs-#{$name}-enclosed-active-text: #{$color};
    --tabs-#{$name}-enclosed-active-border: #{$color};
    --tabs-#{$name}-enclosed-active-hover-bg: #{with-alpha($color, 0.05)};
    --tabs-#{$name}-enclosed-active-hover-text: #{$hover-color};
    --tabs-#{$name}-enclosed-active-hover-border: #{$hover-color};
    --tabs-#{$name}-enclosed-inactive-hover-border: #{with-alpha($color, 0.2)};
    --tabs-#{$name}-enclosed-inactive-hover-bg: #{with-alpha($color, 0.1)};
    --tabs-enclosed-content-shadow: #{$box-shadow-s};

    // Variante "pills"
    --tabs-#{$name}-pills-inactive-hover-bg: #{with-alpha($color, 0.1)};
    --tabs-#{$name}-pills-active-bg: #{$color};
    --tabs-#{$name}-pills-active-text: #{$text-on-color};
    --tabs-#{$name}-pills-active-badge-bg: #{$text-on-color};
    --tabs-#{$name}-pills-active-badge-text: #{$color};
    --tabs-#{$name}-pills-active-hover-bg: #{$hover-color};

    // Variante "soft"
    --tabs-#{$name}-soft-inactive-hover-bg: #{with-alpha($color, 0.05)};
    --tabs-#{$name}-soft-active-bg: #{$color};
    --tabs-#{$name}-soft-active-text: #{$text-on-color};
    --tabs-#{$name}-soft-active-box-shadow: #{$box-shadow-s};
    --tabs-#{$name}-soft-active-hover-bg: #{$hover-color};
    --tabs-soft-nav-shadow: #{$box-shadow-s};

    // Variante "buttons"
    --tabs-#{$name}-buttons-inactive-border: #{$inactive-border};
    --tabs-#{$name}-buttons-inactive-hover-bg: #{with-alpha($color, 0.05)};
    --tabs-#{$name}-buttons-inactive-hover-border: #{with-alpha($color, 0.2)};
    --tabs-#{$name}-buttons-active-bg: #{with-alpha($color, 0.1)};
    --tabs-#{$name}-buttons-active-text: #{$color};
    --tabs-#{$name}-buttons-active-border: #{$color};
  }
}

// ==========================================
// AVATAR THEME MIXINS
// ==========================================

/// Mixin para generar variables de avatar en tema claro
@mixin generate-avatar-variables($colors, $is-dark: false) {
  // Colores base según tema
  $default-bg: if(
    $is-dark,
    var(--color-secondary-shade-20),
    var(--color-secondary)
  );
  $default-color: if($is-dark, #{$color-gray-50-dark}, #{$color-white});

  // Colores auxiliares según tema
  $text-on-color: if($is-dark, #{$color-gray-50-dark}, #{$color-white});
  $gray-border: if($is-dark, #{$color-gray-50-dark}, #{$color-white});
  $excess-bg: if($is-dark, #{$color-gray-700-dark}, #{$color-gray-300});
  $excess-color: if($is-dark, #{$color-gray-200-dark}, #{$color-gray-700});
  $excess-hover-bg: if($is-dark, #{$color-gray-600-dark}, #{$color-gray-400});

  // Variables generales por defecto
  --avatar-default-bg: #{$default-bg};
  --avatar-default-color: #{$default-color};
  --avatar-group-border-color: #{$gray-border};
  --avatar-excess-bg: #{$excess-bg};
  --avatar-excess-color: #{$excess-color};
  --avatar-excess-hover-bg: #{$excess-hover-bg};

  // Colores semánticos generados dinámicamente
  @each $name, $color in $colors {
    $shade-color: if(
      $is-dark,
      #{"var(--color-" + $name + "-shade-10)"},
      $color
    );

    // Variables por color
    --avatar-#{$name}-bg: #{$shade-color};
    --avatar-#{$name}-color: #{$text-on-color};
  }
}

/// Mixin para generar variables de Tooltip
/// @param {Boolean} $is-dark - Indica si es tema oscuro
@mixin generate-tooltip-variables($is-dark: false) {
  // El tooltip usa colores inversos al tema para mejor contraste
  @if $is-dark {
    --tooltip-bg: #{$color-gray-300-dark};
    --tooltip-text: #{$color-text-dark};
  } @else {
    --tooltip-bg: #{$color-gray-800};
    --tooltip-text: #{$color-white};
  }
}

/// Mixin para generar variables de Popover
/// @param {Boolean} $is-dark - Indica si es tema oscuro
@mixin generate-popover-variables($is-dark: false) {
  // El popover usa los colores del tema con un fondo ligeramente elevado
  @if $is-dark {
    --popover-bg: #{$color-gray-100-dark};
    --popover-text: #{$color-text-dark};
    --popover-border-color: #{$color-gray-300-dark};
  } @else {
    --popover-bg: #{$color-white};
    --popover-text: #{$color-text};
    --popover-border-color: #{$color-gray-200};
  }
}

/// Mixin para generar todas las variables de componentes (llamada de conveniencia)
@mixin generate-component-variables($colors, $is-dark: false) {
  @include generate-button-variables($colors, $is-dark);
  @include generate-chip-variables($colors, $is-dark);
  @include generate-switch-variables($colors, $is-dark);
  @include generate-progress-bar-variables($colors, $is-dark);
  @include generate-button-group-variables($colors, $is-dark);
  @include generate-fab-button-variables($colors, $is-dark);
  @include generate-modal-variables($colors, $is-dark);
  @include generate-toast-variables($colors, $is-dark);
  @include generate-paginator-variables($colors, $is-dark);
  @include generate-tab-variables($colors, $is-dark);
  @include generate-slidepanel-variables($is-dark);
  @include generate-avatar-variables($colors, $is-dark);
  @include generate-tooltip-variables($is-dark);
  @include generate-popover-variables($is-dark);
}

// Mixin para variables específicas de tema
@mixin theme-specific-variables($is-dark: false) {
  @if $is-dark {
    // Dark theme específico
    --color-text: #{$color-text-dark};
    --color-text-secondary: #{$color-text-secondary-dark};
    --color-text-muted: #{$color-text-muted-dark};
    --color-text-disabled: #{$color-text-disabled-dark};
    --color-text-hint: #{$color-text-hint-dark};
    --color-text-heading: #{$color-text-heading-dark};

    --color-focus-ring: #{$focus-ring-color-dark};
    --color-highlight: #{$color-highlight-dark};
    --color-selection: #{$color-selection-dark};
    --color-border: #{$color-gray-50-dark};

    // Surface colors
    --surface-primary: #{$color-gray-50-dark}; // #{$color-gray-50-dark} (fondo base)
    --surface-secondary: #{$color-gray-100-dark}; // #161b22 (primera card)
    --surface-tertiary: #{$color-gray-200-dark}; // #21262d (segunda card)

    // Field colors
    --field-border-color: #{$color-gray-300-dark};
    --field-border-hover-color: #{$color-gray-500-dark};
    --field-bg: #{$color-black};
    --field-options-bg: #{$color-gray-100-dark};

    // Scroll colors
    --scroll-bg: #{$color-gray-200-dark};
    --scroll-thumb-bg: #{$color-gray-400-dark};
  } @else {
    // Light theme específico
    --color-text: #{$color-text};
    --color-text-secondary: #{$color-text-secondary};
    --color-text-muted: #{$color-text-muted};
    --color-text-disabled: #{$color-text-disabled};
    --color-text-hint: #{$color-text-hint};

    --color-focus-ring: #{$focus-ring-color};
    --color-highlight: #{$color-highlight};
    --color-selection: #{$color-selection};
    --color-border: #{$color-gray-200};

    // Surface colors
    --surface-primary: #{$color-white}; // #ffffff (fondo base)
    --surface-secondary: #{$color-gray-50}; // #f8fafc (primera card)
    --surface-tertiary: #{$color-gray-100}; // #f1f5f9 (segunda card)

    // Field colors
    --field-border-color: #{$color-gray-300};
    --field-border-hover-color: #{$color-gray-500};
    --field-bg: #{$color-white};
    --field-options-bg: #{$color-gray-100};

    // Scroll colors
    --scroll-bg: #{$color-gray-200};
    --scroll-thumb-bg: #{$color-gray-400};
  }

  // Variables comunes
  --surface-success: var(--color-success-tint-95);
  --surface-info: var(--color-info-tint-95);
  --surface-warning: var(--color-warning-tint-95);
  --surface-danger: var(--color-danger-tint-95);
  --surface-accent: var(--color-accent-tint-95);

  --color-on-primary: var(--surface-primary);
  --color-on-secondary: var(--surface-primary);
  --color-on-success: var(--surface-primary);
  --color-on-info: var(--surface-primary);
  --color-on-warning: var(--surface-primary);
  --color-on-danger: var(--surface-primary);
  --color-on-accent: var(--surface-primary);
  --color-on-surface: var(--surface-primary);

  --text-primary: var(--color-text);
  --text-secondary: var(--color-text-secondary);
  --text-muted: var(--color-text-muted);
  --text-disabled: var(--color-text-disabled);
  --text-hint: var(--color-text-hint);
  --text-heading: var(--color-text-heading);

  --border-primary: var(--color-border);
  --border-secondary: var(--color-gray-200);
  --border-success: var(--color-success);
  --border-info: var(--color-info);
  --border-warning: var(--color-warning);
  --border-danger: var(--color-danger);
  --border-accent: var(--color-accent);
  --border-focus: var(--color-primary);
  --border-container: 1px solid var(--border-primary);
  --border-field: var(--border-width-xs) solid var(--field-border-color);
  --border-interactive: 1px solid transparent;
  --border-none: none;
}
