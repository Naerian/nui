# Component Variables

This directory contains the variable definitions for all NUI components, following a consistent and scalable architecture.

## üìÅ Structure

Each component has its own folder with two files:

```
variables/
‚îú‚îÄ‚îÄ {component}/
‚îÇ   ‚îú‚îÄ‚îÄ _{component}-tokens.scss      # SCSS variables (source of truth)
‚îÇ   ‚îî‚îÄ‚îÄ {component}-variables.scss    # Mixin that generates CSS custom properties
```

### Example (Button component)

```scss
// 1. _button-tokens.scss - Base values (customizable)
$button-gap: 0.5rem !default;
$button-border-radius: 0.375rem !default;
$button-border-width: 0.063rem !default;

// 2. button-variables.scss - Converts to CSS vars
@mixin nui-button-vars {
  --nui-button-gap: #{$button-gap};
  --nui-button-border-radius: #{$button-border-radius};
  --nui-button-border-width: #{$button-border-width};
}

// 3. _theme-config.scss - Includes the mixin
:root {
  @include nui-button-vars;
}
```

## üé® Variable Types

### Structural Variables (Defined here)
- **Spacing**: padding, margin, gap
- **Sizing**: width, height, min/max sizes
- **Typography**: font-size, font-weight, line-height
- **Borders**: border-radius, border-width
- **Transitions**: duration, timing-functions
- **Shadows**: box-shadow values
- **Z-index**: layering values

### Color Variables (Generated by ThemeService)
Color-related variables are **NOT** defined in SCSS. They are generated dynamically by the `ThemeService` in TypeScript.

Examples:
- `--nui-button-primary-solid-bg`
- `--nui-chip-success-outline-text`
- `--nui-toast-danger-icon-color`

See `projects/nui/src/lib/themes/theme.service.ts` for color generation logic.

## üõ†Ô∏è How to Customize

### Method 1: Override SCSS Variables (Before Import)

```scss
// custom-theme.scss
$button-gap: 0.75rem;
$button-border-radius: 0.5rem;
$chip-padding-x: (
  xs: 0.5rem,
  sm: 0.75rem,
  md: 1rem,
  lg: 1.25rem,
  xl: 1.5rem
);

@import '@nui/styles/nui.scss';
```

### Method 2: Override CSS Variables (Runtime)

```scss
:root {
  --nui-button-gap: 0.75rem;
  --nui-button-border-radius: 0.5rem;
  --nui-chip-padding-x-md: 1rem;
}
```

### Method 3: Change Theme Colors (TypeScript)

```typescript
import { ThemeService } from '@nui/themes';

// Inject service
constructor(private themeService: ThemeService) {}

// Create custom preset
const myTheme = {
  name: 'custom',
  colors: {
    light: {
      primary: '#ff6b6b',
      secondary: '#4ecdc4',
      // ... etc
    },
    dark: {
      primary: '#ff8787',
      secondary: '#5fe0d6',
      // ... etc
    }
  }
};

// Apply theme
this.themeService.usePreset(myTheme);
```

## üì¶ Available Components

Components with variables defined:

- `action-menu/` - Context menu variables
- `avatar/` - Avatar sizing and spacing
- `breadcrumb/` - Breadcrumb navigation
- `button/` - Button structural variables
- `button-group/` - Button group layout
- `calendar/` - Calendar component
- `card/` - Card container
- `chip/` - Chip/tag component
- `fab-button/` - Floating action button
- `modal-dialog/` - Modal dialog
- `paginator/` - Pagination controls
- `panel/` - Panel container
- `popover/` - Popover/dropdown
- `progress-bar/` - Progress indicator
- `sidebar-panel/` - Sidebar panel
- `spinner/` - Loading spinner
- `switch/` - Toggle switch
- `tab/` - Tab navigation
- `time-picker/` - Time picker input
- `toast/` - Toast notifications
- `tooltip/` - Tooltip overlays

## üèóÔ∏è Architecture Benefits

### ‚úÖ Separation of Concerns
- **Tokens** = Design decisions (values)
- **Variables** = Implementation (CSS vars)
- **Colors** = Runtime generation (TypeScript)

### ‚úÖ Customizable
All SCSS variables use `!default` flag, allowing easy overrides without modifying library code.

### ‚úÖ Type-Safe Colors
Colors are defined in TypeScript interfaces with full IDE autocomplete and compile-time validation.

### ‚úÖ Scalable
Adding new components follows the same pattern:
1. Create `_{component}-tokens.scss`
2. Create `{component}-variables.scss` with mixin
3. Import in `_theme-config.scss`

### ‚úÖ Performance
- CSS variables are computed once at build time (structural)
- Color variables updated only on theme change (minimal runtime overhead)
- No duplicate CSS generated

## üîó Related Documentation

- **Theme System**: `projects/nui/src/lib/themes/README.md`
- **Color Presets**: `projects/nui/src/lib/themes/presets/`
- **SCSS Mixins**: `projects/nui/styles/_mixins.scss`
- **Theme Config**: `projects/nui/styles/_theme-config.scss`

## üí° Best Practices

1. **Never hardcode colors** in component SCSS - use CSS variables
2. **Use semantic names** for variables (e.g., `--nui-button-gap` not `--nui-spacing-1`)
3. **Group related variables** by component in separate folders
4. **Document magic numbers** with comments explaining the rationale
5. **Use `!default`** for all SCSS variables to allow customization

## üêõ Troubleshooting

### Variables not applying?
Check import order. SCSS variables must be defined **before** importing the library.

### Colors not changing with theme?
Ensure you're using `ThemeService.usePreset()` and not trying to override color CSS variables manually.

### Custom tokens not working?
Variables must be defined before `@import '@nui/styles/nui.scss'` in your main stylesheet.

---

**Architecture**: CSS-in-JS for colors, SCSS for structure  
**Maintained by**: NUI Team  
**Last Updated**: November 2025
